package org.mondo.collaboration.security.query

import "http://wt/access-control"
import "http://www.eclipse.org/emf/2002/Ecore"

pattern lockOp1(signal :Signal, type) {
	Control.type(ctrl, type);
	Control.provides(ctrl, signal);
}

pattern lockOp2(vendor, control : Control) {
	Composite.vendor(composite,vendor);
	neg find containedBy(_,root);
	Composite.submodules(root,composite);
	find containedBy+(composite,control);
}

pattern lockOp3(signal :Signal, cycle, value) {
	Control.cycle(ctrl, cycle);
	Control.provides(ctrl, signal);
	Signal.frequency(signal, value);
}

pattern lockOp1Helper(signal :Signal, ctrl :Control, type) {
	Control.type(ctrl, type);
	Control.provides(ctrl, signal);
}

pattern lockOp3Helper(signal :Signal, cycle, value, ctrl :Control) {
	Control.cycle(ctrl, cycle);
	Control.provides(ctrl, signal);
	Signal.frequency(signal, value);
}

pattern containedBy(parent,child) {	
	Composite.submodules(parent,child);
} or {
	Module.provides(parent,child);	
}
